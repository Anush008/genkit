<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@genkit-ai/core](./core.md) &gt; [FlowStateSchema](./core.flowstateschema.md)

## FlowStateSchema variable

Defines the format for flow state. This is the format used for persisting the state in the [FlowStateStore](./core.flowstatestore.md)<!-- -->.

**Signature:**

```typescript
FlowStateSchema: z.ZodObject<{
    name: z.ZodOptional<z.ZodString>;
    flowId: z.ZodString;
    input: z.ZodUnknown;
    startTime: z.ZodNumber;
    cache: z.ZodRecord<z.ZodString, z.ZodObject<{
        value: z.ZodOptional<z.ZodAny>;
        empty: z.ZodOptional<z.ZodLiteral<true>>;
    }, "strip", z.ZodTypeAny, {
        value?: any;
        empty?: true | undefined;
    }, {
        value?: any;
        empty?: true | undefined;
    }>>;
    eventsTriggered: z.ZodRecord<z.ZodString, z.ZodAny>;
    blockedOnStep: z.ZodNullable<z.ZodObject<{
        name: z.ZodString;
        schema: z.ZodOptional<z.ZodString>;
    }, "strip", z.ZodTypeAny, {
        name: string;
        schema?: string | undefined;
    }, {
        name: string;
        schema?: string | undefined;
    }>>;
    operation: z.ZodObject<{
        name: z.ZodString;
        metadata: z.ZodOptional<z.ZodAny>;
        done: z.ZodDefault<z.ZodOptional<z.ZodBoolean>>;
        result: z.ZodOptional<z.ZodIntersection<z.ZodObject<{
            response: z.ZodNullable<z.ZodUnknown>;
        }, "strip", z.ZodTypeAny, {
            response?: unknown;
        }, {
            response?: unknown;
        }>, z.ZodObject<{
            error: z.ZodOptional<z.ZodString>;
            stacktrace: z.ZodOptional<z.ZodString>;
        }, "strip", z.ZodTypeAny, {
            error?: string | undefined;
            stacktrace?: string | undefined;
        }, {
            error?: string | undefined;
            stacktrace?: string | undefined;
        }>>>;
        blockedOnStep: z.ZodOptional<z.ZodObject<{
            name: z.ZodString;
            schema: z.ZodOptional<z.ZodString>;
        }, "strip", z.ZodTypeAny, {
            name: string;
            schema?: string | undefined;
        }, {
            name: string;
            schema?: string | undefined;
        }>>;
    }, "strip", z.ZodTypeAny, {
        name: string;
        done: boolean;
        metadata?: any;
        result?: ({
            response?: unknown;
        } & {
            error?: string | undefined;
            stacktrace?: string | undefined;
        }) | undefined;
        blockedOnStep?: {
            name: string;
            schema?: string | undefined;
        } | undefined;
    }, {
        name: string;
        metadata?: any;
        done?: boolean | undefined;
        result?: ({
            response?: unknown;
        } & {
            error?: string | undefined;
            stacktrace?: string | undefined;
        }) | undefined;
        blockedOnStep?: {
            name: string;
            schema?: string | undefined;
        } | undefined;
    }>;
    traceContext: z.ZodOptional<z.ZodString>;
    executions: z.ZodArray<z.ZodObject<{
        startTime: z.ZodOptional<z.ZodNumber>;
        endTime: z.ZodOptional<z.ZodNumber>;
        traceIds: z.ZodArray<z.ZodString, "many">;
    }, "strip", z.ZodTypeAny, {
        traceIds: string[];
        startTime?: number | undefined;
        endTime?: number | undefined;
    }, {
        traceIds: string[];
        startTime?: number | undefined;
        endTime?: number | undefined;
    }>, "many">;
}, "strip", z.ZodTypeAny, {
    flowId: string;
    startTime: number;
    cache: Record<string, {
        value?: any;
        empty?: true | undefined;
    }>;
    eventsTriggered: Record<string, any>;
    blockedOnStep: {
        name: string;
        schema?: string | undefined;
    } | null;
    operation: {
        name: string;
        done: boolean;
        metadata?: any;
        result?: ({
            response?: unknown;
        } & {
            error?: string | undefined;
            stacktrace?: string | undefined;
        }) | undefined;
        blockedOnStep?: {
            name: string;
            schema?: string | undefined;
        } | undefined;
    };
    executions: {
        traceIds: string[];
        startTime?: number | undefined;
        endTime?: number | undefined;
    }[];
    name?: string | undefined;
    input?: unknown;
    traceContext?: string | undefined;
}, {
    flowId: string;
    startTime: number;
    cache: Record<string, {
        value?: any;
        empty?: true | undefined;
    }>;
    eventsTriggered: Record<string, any>;
    blockedOnStep: {
        name: string;
        schema?: string | undefined;
    } | null;
    operation: {
        name: string;
        metadata?: any;
        done?: boolean | undefined;
        result?: ({
            response?: unknown;
        } & {
            error?: string | undefined;
            stacktrace?: string | undefined;
        }) | undefined;
        blockedOnStep?: {
            name: string;
            schema?: string | undefined;
        } | undefined;
    };
    executions: {
        traceIds: string[];
        startTime?: number | undefined;
        endTime?: number | undefined;
    }[];
    name?: string | undefined;
    input?: unknown;
    traceContext?: string | undefined;
}>
```
